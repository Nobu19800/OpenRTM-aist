<?xml version="1.0" encoding="utf-8"?>
<Include xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <!-- root directory -->		
  <Directory Id="OpenCVRoot" Name="OpenCV2.3">
    <Component Id="OpenCV" Guid="{% OpenCV.GUID %}">
	  <Environment Id="OPENCV_DIR" Name="OpenCV_DIR" Action="set"
		           System="yes" Value="[OpenCVRoot]" />
	    {% for file in OpenCV.Files %}
	      <File Id="{% file.Id %}" Name="{% file.Name %}"
	            DiskId="1" Source="{% file.Source %}">
	      </File>
	    {% endfor %}
    </Component>
      
    <!-- bin -->
    <Directory Id="OpenCV_bin" Name="bin">
      <Component Id="OpenCVBin" Guid="{% OpenCVBin.GUID %}">
	    <Environment Id="OpenCVUpdatePath" Name="PATH" Action="set"
			         System="yes" Part="last"
			         Value="[OpenCV_bin]" />
	      {% for file in OpenCVBin.Files %}
	        <File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
	        </File>
	      {% endfor %}
      </Component>
    </Directory>

    <!-- gpu -->
    <Directory Id="OpenCV_gpu" Name="gpu">
      <Directory Id="OpenCV_gpu_x86" Name="x86">
		<Directory Id="OpenCV_gpu_x86_bin" Name="bin">
		  <Component Id="OpenCVGpuX86Bin" Guid="{% OpenCVGpuX86Bin.GUID %}">
			{% for file in OpenCVGpuX86Bin.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
				  DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
		  </Component>
		</Directory>
		<Directory Id="OpenCV_gpu_x86_lib" Name="lib">
		  <Component Id="OpenCVGpuX86Lib" Guid="{% OpenCVGpuX86Lib.GUID %}">
			{% for file in OpenCVGpuX86Lib.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
				  DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
		  </Component>
		</Directory>
      </Directory>
    </Directory>
      
    <!-- include -->
    <Directory Id="OpenCV_include" Name="include">
      <Directory Id="OpenCV_include_opencv" Name="opencv">
        <Component Id="OpenCVIncludeOpencv" Guid="{% OpenCVIncludeOpencv.GUID %}">
	      {% for file in OpenCVIncludeOpencv.Files %}
	        <File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
	        </File>
	      {% endfor %}
        </Component>
      </Directory>
      <Directory Id="OpenCV_include_opencv2" Name="opencv2">
        <Component Id="OpenCVIncludeOpencv2" Guid="{% OpenCVIncludeOpencv2.GUID %}">
	      {% for file in OpenCVIncludeOpencv2.Files %}
	      <File Id="{% file.Id %}" Name="{% file.Name %}"
		        DiskId="1" Source="{% file.Source %}">
	      </File>
	      {% endfor %}
        </Component>
		<Directory Id="OpenCV_include_opencv2_calib3d" Name="calib3d">
          <Component Id="OpenCVIncludeOpencv2Calib3d" Guid="{% OpenCVIncludeOpencv2Calib3d.GUID %}">
			{% for file in OpenCVIncludeOpencv2Calib3d.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_contrib" Name="contrib">
          <Component Id="OpenCVIncludeOpencv2Contrib" Guid="{% OpenCVIncludeOpencv2Contrib.GUID %}">
			{% for file in OpenCVIncludeOpencv2Contrib.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_core" Name="core">
          <Component Id="OpenCVIncludeOpencv2Core" Guid="{% OpenCVIncludeOpencv2Core.GUID %}">
			{% for file in OpenCVIncludeOpencv2Core.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_features2d" Name="features2d">
          <Component Id="OpenCVIncludeOpencv2Features2d" Guid="{% OpenCVIncludeOpencv2Features2d.GUID %}">
			{% for file in OpenCVIncludeOpencv2Features2d.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_flann" Name="flann">
          <Component Id="OpenCVIncludeOpencv2Flann" Guid="{% OpenCVIncludeOpencv2Flann.GUID %}">
			{% for file in OpenCVIncludeOpencv2Flann.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_gpu" Name="gpu">
          <Component Id="OpenCVIncludeOpencv2Gpu" Guid="{% OpenCVIncludeOpencv2Gpu.GUID %}">
			{% for file in OpenCVIncludeOpencv2Gpu.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_highgui" Name="highgui">
          <Component Id="OpenCVIncludeOpencv2Highgui" Guid="{% OpenCVIncludeOpencv2Highgui.GUID %}">
			{% for file in OpenCVIncludeOpencv2Highgui.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_imgproc" Name="imgproc">
          <Component Id="OpenCVIncludeOpencv2Imgproc" Guid="{% OpenCVIncludeOpencv2Imgproc.GUID %}">
			{% for file in OpenCVIncludeOpencv2Imgproc.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_legacy" Name="legacy">
          <Component Id="OpenCVIncludeOpencv2Legacy" Guid="{% OpenCVIncludeOpencv2Legacy.GUID %}">
			{% for file in OpenCVIncludeOpencv2Legacy.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_ml" Name="ml">
          <Component Id="OpenCVIncludeOpencv2Ml" Guid="{% OpenCVIncludeOpencv2Ml.GUID %}">
			{% for file in OpenCVIncludeOpencv2Ml.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_objdetect" Name="objdetect">
          <Component Id="OpenCVIncludeOpencv2Objdetect" Guid="{% OpenCVIncludeOpencv2Objdetect.GUID %}">
			{% for file in OpenCVIncludeOpencv2Objdetect.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_ts" Name="ts">
          <Component Id="OpenCVIncludeOpencv2Ts" Guid="{% OpenCVIncludeOpencv2Ts.GUID %}">
			{% for file in OpenCVIncludeOpencv2Ts.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
		<Directory Id="OpenCV_include_opencv2_video" Name="video">
          <Component Id="OpenCVIncludeOpencv2Video" Guid="{% OpenCVIncludeOpencv2Video.GUID %}">
			{% for file in OpenCVIncludeOpencv2Video.Files %}
			<File Id="{% file.Id %}" Name="{% file.Name %}"
		          DiskId="1" Source="{% file.Source %}">
			</File>
			{% endfor %}
          </Component>
		</Directory>
      </Directory>
    </Directory>

      
    <!-- lib -->
    <Directory Id="OpenCV_lib" Name="lib">
      <Component Id="OpenCVLib" Guid="{% OpenCVLib.GUID %}">
	    {% for file in OpenCVLib.Files %}
	      <File Id="{% file.Id %}" Name="{% file.Name %}"
		        DiskId="1" Source="{% file.Source %}">
	      </File>
	    {% endfor %}
      </Component>
    </Directory>
    <!-- end of lib -->

    <!-- staticlib -->
    <Directory Id="OpenCV_staticlib" Name="staticlib">
      <Component Id="OpenCVStaticlib" Guid="{% OpenCVStaticlib.GUID %}">
	    {% for file in OpenCVStaticlib.Files %}
	      <File Id="{% file.Id %}" Name="{% file.Name %}"
		        DiskId="1" Source="{% file.Source %}">
	      </File>
	    {% endfor %}
      </Component>
    </Directory>
    <!-- end of lib -->

    <!-- doc -->
    <Directory Id="OpenCV_doc" Name="doc">
      <Component Id="OpenCVDoc" Guid="{% OpenCVDoc.GUID %}">
	    {% for file in OpenCVDoc.Files %}
	      <File Id="{% file.Id %}" Name="{% file.Name %}"
		        DiskId="1" Source="{% file.Source %}">
	      </File>
	    {% endfor %}
      </Component>
    </Directory>
    <!-- end of doc -->
  </Directory>
</Include>

